<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>liblogging: beepchannel.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>beepchannel.h File Reference</h1>global objects and defines  
<a href="#_details">More...</a>
<p>
<code>#include "<a class="el" href="sockets_8h-source.html">sockets.h</a>"</code><br>
<code>#include "<a class="el" href="beepsession_8h-source.html">beepsession.h</a>"</code><br>
<code>#include "<a class="el" href="beepmessage_8h-source.html">beepmessage.h</a>"</code><br>

<p>
<a href="beepchannel_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Compounds</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structsbChanObject.html">sbChanObject</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The BEEP channel object. </em> <a href="structsbChanObject.html#_details">More...</a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a0" doxytag="beepchannel.h::__LIB3195_BEEPCHANNEL_H_INCLUDED__"></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><b>__LIB3195_BEEPCHANNEL_H_INCLUDED__</b>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a1" doxytag="beepchannel.h::SBCHAN_INVALID_CHANNEL"></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a1">SBCHAN_INVALID_CHANNEL</a>&nbsp;&nbsp;&nbsp;-1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invalid channel number (no valid channel value). <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a2" doxytag="beepchannel.h::sbChanCHECKVALIDOBJECT"></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><b>sbChanCHECKVALIDOBJECT</b>(x)&nbsp;&nbsp;&nbsp;{assert((x) != NULL); assert((x)-&gt;OID == OIDsbChan); assert((x)-&gt;iState != sbChan_STATE_INVALID);}</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a3" doxytag="beepchannel.h::sbChannelState"></a>
typedef enum <a class="el" href="beepchannel_8h.html#a26">sbChannelState_</a>&nbsp;</td><td class="memItemRight" valign=bottom><b>sbChannelState</b></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a4" doxytag="beepchannel.h::sbChanObj"></a>
typedef <a class="el" href="structsbChanObject.html">sbChanObject</a>&nbsp;</td><td class="memItemRight" valign=bottom><b>sbChanObj</b></td></tr>

<tr><td colspan=2><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a26">sbChannelState_</a> { <br>
&nbsp;&nbsp;<a class="el" href="beepchannel_8h.html#a26a5">sbChan_STATE_INVALID</a> =  0, 
<a class="el" href="beepchannel_8h.html#a26a6">sbChan_STATE_INITIALIZED</a>, 
<a class="el" href="beepchannel_8h.html#a26a7">sbChan_STATE_OPEN</a>, 
<a class="el" href="beepchannel_8h.html#a26a8">sbChan_STATE_AWAITING_CLOSE</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="beepchannel_8h.html#a26a9">sbChan_STATE_PENDING_CLOSE</a>, 
<a class="el" href="beepchannel_8h.html#a26a10">sbChan_STATE_CLOSED</a>, 
<a class="el" href="beepchannel_8h.html#a26a11">sbChan_STATE_BROKEN</a>, 
<a class="el" href="beepchannel_8h.html#a26a12">sbChan_STATE_ERR_FREE_NEEDED</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return value. </em> <a href="#a26">More...</a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a13">sbChanSetChanno</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis, int iChanno)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the channel number for this channel (done by channel 0 profile). </em> <a href="#a13"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a14">sbChanConstruct</a> (struct <a class="el" href="structsbSessObject.html">sbSessObject</a> *pSess)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sbChan Constructor. </em> <a href="#a14"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a15">sbChanSendMesg</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis, struct <a class="el" href="structsbMesgObject.html">sbMesgObject</a> *pMesg, char *pszCmd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a BEEP frame on this channel. </em> <a href="#a15"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a16">sbChanActualSendFram</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis, struct <a class="el" href="structsbFramObject.html">sbFramObject</a> *pFram)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Actually send the frame over the channel. </em> <a href="#a16"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a17">sbChanDestroy</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. </em> <a href="#a17"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a18">sbChanUpdateChannelState</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis, int iNewState)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the channel status. </em> <a href="#a18"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a19">sbChanAssignProfile</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis, struct <a class="el" href="structsbProfObject.html">sbProfObject</a> *pProf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assign a profile to this channel. </em> <a href="#a19"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a20">sbChanAbort</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Aborts a channel. </em> <a href="#a20"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a21">sbChanSendErrResponse</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis, unsigned uErrCode, char *pszErrMsg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send an error response to the remote peer. </em> <a href="#a21"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a22" doxytag="beepchannel.h::sbChanSetAwaitingClose"></a>
<a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a22">sbChanSetAwaitingClose</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the channel status to "awaiting close". <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a23">sbChanSendSEQ</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis, unsigned uAckno, unsigned uWindow)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a SEQ frame for the current channel. </em> <a href="#a23"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a24">sbChanSendOK</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis, void(*OnFrameDestroy)(struct <a class="el" href="structsbFramObject.html">sbFramObject</a> *), void *pUsr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send an OK on the associated channel. </em> <a href="#a24"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a25" doxytag="beepchannel.h::sbChanSetChanClosed"></a>
<a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="beepchannel_8h.html#a25">sbChanSetChanClosed</a> (<a class="el" href="structsbChanObject.html">sbChanObj</a> *pThis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set channel state to closed. <br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
global objects and defines 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Rainer Gerhards &lt;<a href="mailto:rgerhards@adiscon.com">rgerhards@adiscon.com</a>&gt; </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>2003-08-04<p>
2003-09-04 Updated to support multiple client profiles.<p>
2003-09-08 Added support for sending SEQs in reply to the server's response.</dd></dl>
Copyright 2002-2003 Rainer Gerhards and Adiscon GmbH. All Rights Reserved.<p>
Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:<p>
* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.<p>
* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.<p>
* Neither the names of Adiscon GmbH, Rainer Gerhards nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.<p>
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.<hr><h2>Enumeration Type Documentation</h2>
<a name="a26" doxytag="beepchannel.h::sbChannelState_"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="beepchannel_8h.html#a26">sbChannelState_</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
return value. 
<p>
All methods return this if not specified otherwise <dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="a26a5" doxytag="sbChan_STATE_INVALID"></a><em>sbChan_STATE_INVALID</em></em>&nbsp;</td><td>
should never occur, indicates a program error </td></tr>
<tr><td valign=top><em><a name="a26a6" doxytag="sbChan_STATE_INITIALIZED"></a><em>sbChan_STATE_INITIALIZED</em></em>&nbsp;</td><td>
The channel object is initialized, but the channel not yet opened. </td></tr>
<tr><td valign=top><em><a name="a26a7" doxytag="sbChan_STATE_OPEN"></a><em>sbChan_STATE_OPEN</em></em>&nbsp;</td><td>
channel is open and ready for data communication </td></tr>
<tr><td valign=top><em><a name="a26a8" doxytag="sbChan_STATE_AWAITING_CLOSE"></a><em>sbChan_STATE_AWAITING_CLOSE</em></em>&nbsp;</td><td>
peer has indicated processing is done, channel is awaiting close command </td></tr>
<tr><td valign=top><em><a name="a26a9" doxytag="sbChan_STATE_PENDING_CLOSE"></a><em>sbChan_STATE_PENDING_CLOSE</em></em>&nbsp;</td><td>
close is pending, but not yet completed (one peer send a close request) </td></tr>
<tr><td valign=top><em><a name="a26a10" doxytag="sbChan_STATE_CLOSED"></a><em>sbChan_STATE_CLOSED</em></em>&nbsp;</td><td>
channel is closed 
<p>
Next thing is to do an ordinary destroy </td></tr>
<tr><td valign=top><em><a name="a26a11" doxytag="sbChan_STATE_BROKEN"></a><em>sbChan_STATE_BROKEN</em></em>&nbsp;</td><td>
for some (unkonw reason) the channel does not work any longer 
<p>
Must abort session. </td></tr>
<tr><td valign=top><em><a name="a26a12" doxytag="sbChan_STATE_ERR_FREE_NEEDED"></a><em>sbChan_STATE_ERR_FREE_NEEDED</em></em>&nbsp;</td><td>
for some (unkonw reason) the channel does not work any longer 
<p>
The channel object shall be freed by the destructor (but is not yet). </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a20" doxytag="beepchannel.h::sbChanAbort"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void sbChanAbort </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pThis</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Aborts a channel. 
<p>
That is, it destroys the channel object itself but DOES NOT remove it from the session's linked list of channels.     </td>
  </tr>
</table>
<a name="a16" doxytag="beepchannel.h::sbChanActualSendFram"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbChanActualSendFram </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structsbFramObject.html">sbFramObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pFram</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Actually send the frame over the channel. 
<p>
We need to first check if the frame is within the current Window and - if not - we need to return immediately to the caller. The session layer will then handle the rest.<p>
For full details on the send process, see <a class="el" href="architecture_8c.html">architecture::c</a><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pFram</em>&nbsp;</td><td>[in] pointer to to-be-sent frame </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>The</em>&nbsp;</td><td>usual values, but let's point out that SR_RET_REMAIN_WIN_TOO_SMALL must be returned if the remaining window is too small to send the frame. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a19" doxytag="beepchannel.h::sbChanAssignProfile"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbChanAssignProfile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structsbProfObject.html">sbProfObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pProf</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Assign a profile to this channel. 
<p>
Only one profile can be assigned to a channel at one time. As such, no profile is allowed to be already assigned when this method is called.<p>
Once the profile object has been assigned to the channel, the channel "owns" it. That means the caller is not allowed to use it any longer or free() it. The channel will free it when the channel is destroyed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pProf</em>&nbsp;</td><td>Profile to be assigned. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a14" doxytag="beepchannel.h::sbChanConstruct"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structsbChanObject.html">sbChanObj</a>* sbChanConstruct </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structsbSessObject.html">sbSessObject</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pSess</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
sbChan Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pSock</em>&nbsp;</td><td>[in] pointer to socket to use. Can not be NULL. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>Pointer</em>&nbsp;</td><td>to channel object or NULL, if error occured. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a17" doxytag="beepchannel.h::sbChanDestroy"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void sbChanDestroy </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pThis</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. 
<p>
The channel object itself will be freed and can not be used any longer.     </td>
  </tr>
</table>
<a name="a21" doxytag="beepchannel.h::sbChanSendErrResponse"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbChanSendErrResponse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned&nbsp;</td>
          <td class="mdname" nowrap> <em>uErrCode</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>pszErrMsg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send an error response to the remote peer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>uErrCode</em>&nbsp;</td><td>numeric error code as of RC 3080 </td></tr>
    <tr><td valign=top><em>pszErrMsg</em>&nbsp;</td><td>human-readable error message string. MUST NOT be NULL. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a15" doxytag="beepchannel.h::sbChanSendMesg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbChanSendMesg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structsbMesgObject.html">sbMesgObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pMesg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>pszCmd</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a BEEP frame on this channel. 
<p>
The message provided as parameter is sent over the channel. This method here performs all necessary processing, including conversion from Mesg to (eventually multiple) frames.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pMesg</em>&nbsp;</td><td>Pointer to the Mesg to be sent.</td></tr>
    <tr><td valign=top><em>szCmd</em>&nbsp;</td><td>Command to send (e.g. "ANS", "MSG", ...). Can not be NULL. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a24" doxytag="beepchannel.h::sbChanSendOK"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbChanSendOK </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void(*&nbsp;</td>
          <td class="mdname" nowrap> <em>OnFrameDestroy</em>)(struct <a class="el" href="structsbFramObject.html">sbFramObject</a> *), </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>pUsr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send an OK on the associated channel. 
<p>
This is just a shortcut to save some typing.     </td>
  </tr>
</table>
<a name="a23" doxytag="beepchannel.h::sbChanSendSEQ"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbChanSendSEQ </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned&nbsp;</td>
          <td class="mdname" nowrap> <em>uAckno</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned&nbsp;</td>
          <td class="mdname" nowrap> <em>uWindow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a SEQ frame for the current channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pChan</em>&nbsp;</td><td>Channel this SEQ is for. </td></tr>
    <tr><td valign=top><em>uAckno</em>&nbsp;</td><td>ackno to use in the SEQ. Can not be 0. </td></tr>
    <tr><td valign=top><em>uWindow</em>&nbsp;</td><td>Window to use in the SEQ. If 0, use BEEP default. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a13" doxytag="beepchannel.h::sbChanSetChanno"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbChanSetChanno </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>iChanno</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the channel number for this channel (done by channel 0 profile). 
<p>
IMPORTANT: the channel number MUST be set only ONCE and this BEFORE any data is sent or received over the channel. The reason for this is that this method also adds the channel to session's list of channel objects. If it would be called multiple times, multiple copies would be present in the list - which would (mildly said) cause unpredictable results).<p>
Of course, we could change the behaviour to handle this case, but I do not see any good reason for this. So far, it looks like a waste of CPU cycles...<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>iChanno</em>&nbsp;</td><td>[in] Channel number to be used on this channel. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a18" doxytag="beepchannel.h::sbChanUpdateChannelState"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbChanUpdateChannelState </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbChanObject.html">sbChanObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>iNewState</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Update the channel status. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>iNewState</em>&nbsp;</td><td>new channel status </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Oct 3 12:29:55 2005 for liblogging by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
