.TH "LVM2-ACTIVATION-GENERATOR" "8" "LVM TOOLS #VERSION#" "Red Hat, Inc" "\""
.SH "NAME"
lvm2-activation-generator - generator for systemd units to activate LVM volumes on boot
.SH SYNOPSIS
.B #SYSTEMD_GENERATOR_DIR#/lvm2-activation-generator
.sp
.SH DESCRIPTION

The lvm2-activation-generator is called by \fBsystemd\fP(1) on boot to
generate systemd units at runtime to activate LVM Logical Volumes (LVs)
when global/event_activation=0 is set in \fBlvm.conf\fP(5).  These units use
\fBvgchange -aay\fP to activate LVs.

If event_activation=1, the lvm2-activation-generator exits immediately without
generating any systemd units, and LVM fully relies on event-based
activation to activate LVs.  In this case, event-generated \fBpvscan
--cache -aay\fP commands activate LVs.

These systemd units are generated by lvm2-activation-generator:
.sp
\fIlvm2-activation-early.service\fP
is run before systemd's special \fBcryptsetup.target\fP to activate
LVs that are not layered on top of encrypted devices.

\fIlvm2-activation.service\fP
is run after systemd's special \fBcryptsetup.target\fP to activate
LVs that are layered on top of encrypted devices.

\fIlvm2-activation-net.service\fP
is run after systemd's special \fBremote-fs-pre.target\fP to activate
LVs that are layered on attached remote devices.

Note that all the underlying LVM devices (Physical Volumes) need to be
present when the service is run. If the there are any devices that appear
to the system later, LVs using these devices need to be activated directly
by \fBlvchange\fP(8) or \fBvgchange\fP(8).

The lvm2-activation-generator implements the \fBGenerators Specification\fP
as referenced in \fBsystemd\fP(1).
.sp
.SH SEE ALSO
.BR lvm.conf (5)
.BR vgchange (8)
.BR lvchange (8)
.BR pvscan (8)
.BR udev (7)
.BR systemd (1)
.BR systemd.target (5)
.BR systemd.special (7)
